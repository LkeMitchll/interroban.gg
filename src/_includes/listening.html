<article id="listening" class="gap-xx-large">
  <h2 class="title">Listening</h2>
  <section class="columns" style="--cols: 3">
    <div>
      <h3 class="subtitle">Now Playing</h3>
      {% include "src/_includes/now-playing.html" %}
      <hr class="gap-large" />
      {% for week in [music.lastWeek, music.thisWeek] %}
      <h3 class="subtitle">{{ week.title }}</h3>
        <ul class="stats | tertiary-text gap-large" style="--min: 0" data-appearance="plain">
        {% for stat in [week.tracks, week.albums] %}
          <li>
            <div class="horizontal">
            <p><em>{{ stat.title }}</em></p>
              <p>
                {{ stat.total }}
                <span class="color-{{ music.lastWeek.tracks.difference.type }}">
                  {{ stat.difference.icon | safe }}
                </span>
              </p>
            </div>
          </li>
        {% endfor %}
        </ul>
      {% endfor %}
    </div>

    <div>
      <h3 class="subtitle">Top tracks (this month)</h3>
      <ol class="tracks | flow" data-appearance="plain">
        {% for track in music.topTracks %}
        <li class="track">
          <img
            src="{{ track.cover.url }}"
            alt="{{ track.cover.alt }}"
            width="{{ track.cover.width }}"
            height="{{ track.cover.height }}"
            class="thumbnail"
          />
          <div class="leading-small">
            <a href="{{ track.url }}" target="_blank" rel="noreferrer noopener">
              {{ track.title }}
            </a>
            <p class="small-text | color-secondary">{{ track.artist }}</p>
          </div>
        </li>
        {% endfor %}
      </ol>
    </div>

    <div>
      <h3 class="subtitle">Top artists (6 months)</h3>
      <ol class="tracks | flow" data-appearance="plain">
        {% for artist in music.topArtists %}
        <li class="track">
          <img
            src="{{ artist.image.url }}"
            alt="{{ artist.image.alt }}"
            width="{{ artist.image.width }}"
            height="{{ artist.image.height }}"
            class="thumbnail"
          />
          <div class="leading-small">
            <a
              href="{{ artist.url }}"
              target="_blank"
              rel="noreferrer noopener"
            >
              {{ artist.name }}
            </a>
            <p class="small-text | color-secondary">Artist</p>
          </div>
        </li>
        {% endfor %}
      </ol>
    </div>
  </section>
</article>
